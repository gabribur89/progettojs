<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Registrati subito!</title>

<style type="text/css">
body {position: relative; background: black; margin: 0; padding: 0;}
div#content p {margin: 0 1em 1em;}
div#content h3 {margin-bottom: 0.25em;}
h1 {margin: -9px -9px 0.5em; padding: 15px 0 5px; text-align: right; background: #333; color: #667; letter-spacing: 0.5em; text-transform: lowercase; font: bold 25px sans-serif; height: 28px; vertical-align: middle; white-space: nowrap;}
</style>
<script language="JavaScript" type="text/JavaScript">

var exdate = new Date();
exdate.setDate(exdate.getDate()+1);

function check_form(f)
{
	var msg="Sono stati riscontrati i seguenti errori:";
	var error=false;
	var email_pattern=/^\w+@([\w.])+\w+$/;
	var giorno_pattern=new RegExp("^\\d+$");
	var mese_pattern=new RegExp("^\\d+$");
	var anno_pattern=new RegExp("^\\d+$");
	var timeID = 0 ;
	
	if (f.nome.value=="") {msg=msg+"\n Campo Nome obbligatorio."; error=true;}
	if (f.cognome.value=="") {msg=msg+"\n Campo Cognome obbligatorio."; error=true;}
	if (f.username.value=="") {msg=msg+"\n Campo Username obbligatorio."; error=true;}
	if (f.password.value=="") {msg=msg+"\n Campo password obbligatorio."; error=true;}
	if (f.password2.value=="") {msg=msg+"\n Campo password2 obbligatorio."; error=true;}
		else if (f.password.value != f.password2.value)
			{
			error=true;
			msg=msg+"\n I campi password sono diversi."
			}
	if (f.luogo_nascita.value=="") {msg=msg+"\n Campo luogo obbligatorio."; error=true;}
	if (f.giorno.value=="" || f.mese.value=="" || f.anno.value=="")   {msg=msg+"\n Campo data obbligatorio."; error=true;}
		else if (f.giorno.value < 1 || f.giorno.value > 31 || f.mese.value < 1 || f.mese.value > 12 || f.anno.value < 1850 || f.anno.value > 2011 || (f.mese.value==02 && f.giorno.value>29) || (f.mese.value==11 && f.giorno.value>30) || (f.mese.value==04 && f.giorno.value>30) || (f.mese.value==06 && f.giorno.value>30) || (f.mese.value==09 && f.giorno.value>30))
			{
			error=true;
			msg=msg+"\n Immetti una data reale."
			}
				else if (f.anno.value.length != 4 || f.giorno.value.length != 2 || f.mese.value.length != 2)
					{
					error=true;
					msg=msg+"\n Immetti una data in forma GG/MM/AAAA."
					}
						else if(!giorno_pattern.test(f.giorno.value) || !mese_pattern.test(f.mese.value) || !anno_pattern.test(f.anno.value)) {msg=msg+"\n Il campo data non contiene numeri."; error=true;}

	var s_sel=false;
		i=0;
		while(i<f.sex.length && !s_sel)
		{
			if (f.sex[i].checked) s_sel=true;
			i++;
		}
		if (!s_sel) {msg=msg+"\n Selezionare il campo sesso (M o F)."; error=true;}

	if (f.mail.value=="") {msg=msg+"\n Campo E-mail obbligatorio."; error=true}
		else if(!email_pattern.test(f.mail.value)) {msg=msg+"\n Campo e-mail non corretto."; error=true;}

		if (error) {alert(msg);return false;}
		if (error == true){ var timeID = setTimeout("location.href= 'http://file:///C:/Users/Vanessa/Desktop/sito%20servizi%20web/homepage2.html'", 3000)
			}
}

function answer(f)
{
	var nome=f.nome.value;
	var cognome=f.cognome.value;
	var username=f.username.value;
	var password=f.password.value;
	var password2=f.password2.value;
	var luogo_nascita=f.luogo_nascita.value;
	var giorno=f.giorno.value;
	var mese=f.mese.value;
	var anno=f.anno.value;
	var sesso=new Array();
	for(var i=0; i<f.sex.length; i++) {sesso[i]=new Object();
	sesso[i].checked=f.sex[i].checked;sesso[i].value=f.sex[i].value;}
	var mail=f.mail.value;
	var stile=f.style.value;

	document.cookie= escape(f.username.value)+"=" +escape(f.password.value)+"; expires="+exdate.toUTCString();
	
	document.writeln("<html> <head> <title> Grazie! </title> <head>");

	document.writeln("<body >"); 
	document.writeln("<p><b>Congratulazioni "+username+", registrazione effettuata con successo!</b></p>");
	document.writeln("<p><u> Ecco i dati inseriti </u></p>");
	document.writeln("<p> Nome: "+nome+"</p>");
	document.writeln("<p> Cognome: "+cognome+"</p>");
	document.writeln("<p> Password: "+password+"</p>");
	document.writeln("<p> Nato/a a: "+luogo_nascita+"</p>");
	document.writeln("<p> Il: "+giorno+"/"+mese+"/"+anno+"</p>");
	document.write("<p> Sesso ");
	if(sesso[0].checked) document.writeln("maschile </p>"); else document.writeln("femminile </p>");
	document.writeln("<p> Email: "+mail+"</p>");
	
    document.writeln( "<a href= \" file:///C:/Users/Vanessa/Desktop/sito%20servizi%20web/front.html \" > " + 
       "Clicca qui per accedere alla Home " + name + "</a>" );

	document.writeln("</body></html>");
	
}
function autoReload()
{
var timeID = setTimeout("location.href= 'www.html.it", 3000)
}


</script>


<style type="text/css">
.paragraforegistrazione {
	color: #FFC;
	font-family: "Adobe Garamond Pro";
	font-size: 22px;
}
</style>
</head>
<blockquote>
  <blockquote>
    <blockquote>
      <blockquote><h1 class="pagetitle">Registrazione</h1>
</blockquote>
    </blockquote>
  </blockquote>
</blockquote>
	
<p> <b> <span class="paragraforegistrazione">Questa pagina serve per registrarsi al sito! </span></b> </p>
	<p> <span class="paragraforegistrazione"><u> Immetti i seguenti dati per registrarti </u> </span></p>
	<form name="myform" action="javascript:answer(document.myform)" method="post"  onsubmit="return(check_form(this))" onreset="return(confirm('Sei sicuro di voler cancellare i dati?'))">
	<p> 
		<span class="paragraforegistrazione">
		<label> Nome </label>
		<input name="nome" type="text" id="nome" size="20" maxlength="20" />
		<label> Cognome </label>
		<input name="cognome" type="text" id="cognome" size="20" maxlength="20" />
      </span></p>
	<p> 
		<span class="paragraforegistrazione">
		<label> Username </label>
		<input name="username" type="text" id="username" size="20" maxlength="20" />
      </span></p>
	<p>
		<span class="paragraforegistrazione">
		<label> Password (max 15 caratteri)</label>
		<input name="password" type="password" id="password" size="20" maxlength="15" />
		<label> Reimmetti Password </label>
		<input name="password2" type="password" id="password2" size="20" maxlength="15" />
      </span></p>
	<p>
		<span class="paragraforegistrazione">
		<label> Luogo di nascita </label>
		<input name="luogo_nascita" type="text" id="luogo_nascita" size="30" maxlength="50" />
      </span></p>
	<p>
		<span class="paragraforegistrazione">
		<label> Data di nascita in formato GG/MM/AAAA</label>
		<input name="giorno" type="text" id="giorno" size="2" maxlength="2" />
		/
		<input name="mese" type="text" id="mese" size="2" maxlength="2" />
		/
		<input name="anno" type="text" id="anno" size="4" maxlength="4" />
      </span></p>
	<p class="paragraforegistrazione">
	  Sesso: 
		    <label>M</label>
	  <input name="sex" type="radio" value="m" />
	  <label>F</label>
	  <input name="sex" type="radio" value="f" />
	</p>

	<p> 
		<span class="paragraforegistrazione">
		<label> E-mail: </label>
		<input name="mail" type="text" id="mail" />
      </span></p>
	<p>&nbsp;</p>

	<p>
	  <input type="submit" name="Submit" value="Invia" />
		<input name="Reset" type="reset" value="Ripristina" />
	</p>
	</form>


<body >

</body>

</html>